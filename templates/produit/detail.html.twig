{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block body %}

    <div class="container d-flex justify-content-center p-5">
        <div class="col-md-7 col-lg-6">
            <div class="card shadow-sm">
                <img src="{{ produit.image }}" class="img-fluid" alt="">
                <div class="card-body">
                    <h3 class="title text-center p-1">{{ produit.nom }}</h3>
                    <p class="card-text">{{ produit.description }} This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                    <hr>
                    <p class="text-center fs-2 fw-bold">{{ produit.prix }}€</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <button type="button" class="btn btn-sm btn-outline-secondary">Ajouter</button>
                        </div>
                        <small class="text-muted">9 mins</small>
                    </div>
                </div>
            </div>
            <h4 class="text-muted my-5 text-center">Donnez votre avis</h4>

            {{ form_start(form, {'attr' : {'class' : 'col-md-7 mx-auto'} } ) }}
                {{ form_row(form.auteur) }}
                {{ form_row(form.contenu) }}
                <button class="btn btn-primary" type="submit">Poster</button>
            {{ form_end(form) }}

            <h4 class="my-5 mx-auto text-muted text-center">Vos réactions</h4>

            <section class="my-5 text-center col-md-7 col-lg-10 mx-auto" style="overflow:auto; max-height:35vh !important;">

                {% for avis in produit.avis %}

                    <div class="col-md-10 mx-auto p-4">
                        <span><strong>{{ avis.auteur }}</strong></span>
                        <small class="fs-italic">Posté le {{ avis.createdAt|date('d/m/Y') }} à {{ avis.createdAt|date('H:i:s') }}</small>
                    </div>
                    <p class="text-center">{{ avis.contenu }}</p>
                    <hr>
                    
                {% endfor %}
            
            </section>
        </div>
    </div>

{% endblock %}